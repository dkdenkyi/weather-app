<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Weather App</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="styles.css" rel="stylesheet">
    </head>
    <body>
        <header>
            <h1>Weather App</h1>
        </header>
        <div  class="content-style">
            <label for="searchCity">Enter a City:</label>
            <input id="searchCity" name="searchCity" placeholder="">  
            <button id="search">Search</button>
        </div>
        <div class="weather">   
            <table>
                <tr>
                    <td>Temperature</td>
                    <td id="temp"></td>
                </tr>
                <tr>
                    <td>Wind</td>
                    <td id="wind"></td>
                </tr>
                <tr>
                    <td>Humidity</td>
                    <td id="humidity"></td>
                </tr>
            </table>
        </div> 
        
        <script type='text/javascript' src='config.js'></script>
        <script>
            var mykey = config.MY_KEY;
            var secretkey = config.SECRET_KEY;

            let weatherJson = [];

            document.getElementById("search").addEventListener("click", () => {

                    let city = document.getElementById("searchCity").value;
                    let domain = "http://api.openweathermap.org/data/2.5/weather";
                   
                    fetch(`${domain}?q=${city}&APPID=${mykey}`)
                        .then(response=> response.json())
                        .then(json => {
                        weatherJson = json
                        console.log(weatherJson);

                        const temperature = weatherJson.main.temp;
                        const wind = weatherJson.wind.speed;
                        const humidity = weatherJson.main.humidity;

                        document.getElementById("temp").textContent = (parseFloat(temperature)-273.15).toFixed(0) + " Â°C";
                        document.getElementById("wind").textContent = wind + " m/s";
                        document.getElementById("humidity").textContent = humidity+ "%";
                        })
                    }
                )
    
        </script>
    </body>
</html>